# JT/T808-2011协议解析规则白话文详解（JAVA版本）
## 1.包详解
解析之前复习下java的数据结构，以及对应JT/L808-2011里面的数据类型。

JT/L808| JAVA数据类型 | JT/L808描述 | JAVA描述 
---|---|---|---|
BYTE  | Byte |无符号单字节整型(字节， 8 位)|以二进制补码表示的整数|
WORD  | Short|无符号双字节整型(字节，16位)|short数据类型是16位、有符号的以二进制补码表示的整数|
DWORD |Intger|无符号四字节整型(双字，32位)|数据类型是32位、有符号的以二进制补码表示的整数|
BYTE[n] |Byte[n]|n字节|n字节|
BCD[n]  |BCD[n] |8421码，n字节|2个字符标识1个Byte(个人理解)|

关于BCD码，可以自行百度，搜索关键字：java bcd码。


### 1.1 消息结构

标识位 | 消息头 | 消息体 | 校验码 |  标识位  |
---|---|---|---|---|
标识位：固定用7E标识

消息头：**1.2介绍**

消息体：承载消息内容（个人理解）

校验码：校验码指从消息头开始，同后一字节异或，直到校验码前一个字节，占用一个字节。

标识位：固定用7E标识

### 1.2 消息头

起始字节 | 字段 | 数据类型 | 描述及要求 |
---|--- | ---|---|
0 | 消息ID|WORD|-|
2 | 消息体属性|WORD|消息体属性格式结构图|
4 |终端手机号 |BCD[6] |根据安装后终端自身的手机号转换|
10|消息流水号|WORD|按发送顺序从 0 开始循环累加
12|消息包封顶项||如果消息体属性中相关标识位确定消息分包处理，则该项有内容，否则无该项

#### 消息体属性格式结构图如图


#### 个人理解：（1~3代表不包含3，为byte数据下标，与JDK截取规则保持一致）
消息ID：占用2个字节，解析byte位从1~3,0为标识符。

消息体属性：占2个字节，解析byte位为从3~5。

终端手机号：占6个字节，解析byte位为5~11。

终端流水号：占2个字节，解析byte为位为11~13。

消息包封顶项：由消息体属性决定。


